# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- none

pool:
  vmImage: windows-latest

steps:
- script: echo Create Azure Function App
  displayName: 'Run a one-line script'

- task: AzureCLI@2
  inputs:
    azureSubscription: 'azabdp-sc-main-001'
    scriptType: 'ps'
    scriptLocation: 'inlineScript'
    inlineScript: 'az storage account create --name azdbdpeuwstsherlock006 --resource-group azdbdpeuw-rg-sherlock006 --location westeurope --sku Standard_RAGRS --kind StorageV2 --public-network-access Disabled --allow-blob-public-access false --tags Region=EUW Environment=DEV CostCenter=TBD CostResponsible=TBD Country=TBD'

- task: AzureCLI@2
  inputs:
    azureSubscription: 'azabdp-sc-main-001'
    scriptType: 'ps'
    scriptLocation: 'inlineScript'
    inlineScript: 'az functionapp create --consumption-plan-location westeurope --name azdbdpeuw-func-sherlock-006 --storage-account azdbdpeuwstsherlock006 --resource-group azdbdpeuw-rg-sherlock006 --tags Region=EUW Environment=DEV CostCenter=TBD CostResponsible=TBD Country=TBD'
